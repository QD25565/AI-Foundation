# Redis configuration for Teambook

# Persistence
save 900 1      # Save DB if at least 1 key changed in 900 seconds
save 300 10     # Save DB if at least 10 keys changed in 300 seconds
save 60 10000   # Save DB if at least 10000 keys changed in 60 seconds

# Enable AOF for durability (append-only file)
appendonly yes
appendfilename "teambook-appendonly.aof"
appendfsync everysec

# Memory management
maxmemory 2gb
maxmemory-policy allkeys-lru

# Pub/Sub
notify-keyspace-events "Ex"  # Enable keyspace notifications for expired keys

# Performance
tcp-backlog 511
timeout 0
tcp-keepalive 300

# Logging
loglevel notice
logfile ""

# Database
databases 16
